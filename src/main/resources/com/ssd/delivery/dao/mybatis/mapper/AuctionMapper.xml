<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.ssd.delivery.dao.mybatis.mapper.AuctionMapper">
  <cache />

   <insert id="insert" parameterType="AuctionDTO">

      insert into auction
      	(auctionid, serviceid, customerid, enddate, servicedate, startprice, finalprice, address1, address2, successfulbidder, delivery, username)
      	values
      	(#{auctionId}, #{serviceId}, #{customerId},#{endDate},#{serviceDate},#{startPrice},
      	null, #{address1}, #{address2}, null, #{delivery}, #{username} )
	</insert>

	<update id="update" parameterType="AuctionDTO">
    <!-- UPDATE FAVORITEUSER SET 
	   FAVORITEUSERNAME  = #{favoriteUsername}, 
	   TRADECOUNT = #{tradeCount} 
    WHERE USERNAME= #{username} -->
    
    update auction set
    	customerid = #{customerId},
    	finalprice = #{finalPrice},
    	    	
    	
	</update>

	<delete id="delete" parameterType="java.lang.String">
	DELETE FROM auction 
	WHERE auctionid = #{auctionId}
	</delete>
	
  
	
	<select id="getAuctionById" resultType="AuctionDTO">
    select * from auction
    where  = #{username}
	</select>
	
	<select id="getAuctionByUsername" resultType="AuctionDTO">
   	select * from auction
    where username = #{username}
	</select>
	
	<select id="getAuctionList" resultType="AuctionDTO">
    select * from auction
	</select>
	
  
</mapper>