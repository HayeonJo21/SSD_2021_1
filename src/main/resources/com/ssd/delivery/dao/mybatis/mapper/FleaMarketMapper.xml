<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.ssd.delivery.dao.mybatis.mapper.FleaMarketMapper">
  <cache />

   <insert id="insertFM" parameterType="FleaMarketDTO">
      insert into fleamarket
      (fleamarketid, username, fleamarketdate, address, totalprice, itemid)
      values
      (#{fleamarketId}, #{username}, #{fleamarketDate}, #{address}, #{totalPrice}, #{itemId} )
	</insert>

	<update id="updateFM" parameterType="FleaMarketDTO">
    UPDATE FAVORITEUSER SET 
	   FAVORITEUSERNAME  = #{favoriteUsername}, 
	   TRADECOUNT = #{tradeCount} 
    WHERE USERNAME= #{username}
    
    update fleamarket 
    set address = #{address},
    	totalPrice = #{totalPrice}
    where fleamarketid = #{fleaMarketId}"
    
	</update>

	<delete id="deleteFM" parameterType="java.lang.String">
	DELETE FROM fleamarket 
	WHERE fleamarketid = #{fleaMarketId}
	</delete>
	
  
	
	<select id="getFMById" resultType="FleaMarketDTO">
    select * from fleamarket
    where username = #{username}
	</select>
	
	<select id="getFMByUsername" resultType="FleaMarketDTO">
   	select * from fleamarket
    where username = #{username}
	</select>
	
	<select id="getFMList" resultType="FleaMarketDTO">
    select * from fleamarket
	</select>
	
  
</mapper>